<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>C1202 USB Datenanfrage Analyse</title>
        <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

/* From extension ms-toolsai.jupyter */
/* These classnames are inherited from bootstrap, but are present in most notebook renderers */

.alert {
    width: auto;
    padding: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
}
.alert > *:last-child {
    margin-bottom: 0;
}
#preview > .alert:last-child {
    /* Prevent this being set to zero by the default notebook stylesheet */
    padding-bottom: 1em;
}

.alert-success {
    /* Note there is no suitable color available, so we just copy "info" */
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-info {
    background-color: var(--theme-info-background);
    color: var(--theme-info-foreground);
}
.alert-warning {
    background-color: var(--theme-warning-background);
    color: var(--theme-warning-foreground);
}
.alert-danger {
    background-color: var(--theme-error-background);
    color: var(--theme-error-foreground);
}

</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
        
    </head>
    <body class="vscode-body vscode-light">
        <p><a href="../Digimatic_analyse.html">HOME</a>&lt;---&gt;<a href="C1202_USB_analyse.pdf">PDF</a></p>
<h1 id="c1202-usb-datenanfrage-analyse">C1202 USB Datenanfrage Analyse</h1>
<p><img src="device.png" height=200px/><br></p>
<h2 id="1-messaufbau">1. Messaufbau:</h2>
<h3 id="11-c1202-mit-fw-1100">1.1. C1202 mit FW 1.1.0.0</h3>
<h3 id="12-digimatic-kabel-dk-u1">1.2. Digimatic Kabel: DK-U1</h3>
<h3 id="13-messung-saleae-logic-pro-8">1.3. Messung: Saleae logic Pro 8</h3>
<h3 id="14-empfängeranförderung-pc06-451">1.4. Empfänger/Anförderung: PC06-451</h3>
<h2 id="2-interface-beschreibung">2. Interface Beschreibung</h2>
<ul>
<li>interfcae: 9600 7E2<br>
<a href="file://essfs01/Abteilungen/Benutzergruppen/Firmware_Software/Interface%20Beschreibung%20Datenkabel%20DK-U1/Release/20220926_DK-U1 Instruction%20Set.xlsm">20220926_DK-U1 Instruction Set.xlsm</a></li>
</ul>
<blockquote>
<p><strong>\essfs01\Abteilungen\Benutzergruppen\Firmware_Software\Interface Beschreibung Datenkabel DK-U1\Release\20220926_DK-U1 Instruction Set.xlsm</strong></p>
</blockquote>
<div style="page-break-after: always;"></div><br>
<h2 id="3-messungen">3. Messungen:</h2>
<h3 id="31-einzelantwort-für-">3.1. Einzelantwort für '?':</h3>
<ul>
<li>Anzahl Merkmale: 1, 2 oder 3</li>
<li>Toleranz: Nein</li>
<li>Warngrenzen: Nein</li>
<li>Anforderung: Befehl ('?')</li>
<li>Daten Senden: Parallel</li>
<li>Gesamtzeit: 60ms
<img src="meas.png" alt="image">
<br><br><br></li>
</ul>
<h3 id="32-einzelantwort-für-m1">3.2. Einzelantwort für 'M1?':</h3>
<ul>
<li>Anzahl Merkmale: 1, 2 oder 3</li>
<li>Toleranz: Nein</li>
<li>Warngrenzen: Nein</li>
<li>Anforderung: Befehl ('M1?')</li>
<li>Daten Senden: Parallel</li>
<li>Gesamtzeit: 40ms
<img src="ein_meas.png" alt="image"></li>
</ul>
<h3 id="33-zyklischeanforderung-für-alle-merkmale">3.3. Zyklischeanforderung für alle Merkmale:</h3>
<ul>
<li>1000ms
<img src="1000ms.png" alt="image"></li>
<li>500ms
<img src="500ms.png" alt="image"></li>
<li>200ms
<img src="200ms.png" alt="image"></li>
<li>100ms
<img src="100ms.png" alt="image"></li>
<li>80ms
<img src="80ms.png" alt="image"></li>
<li>50ms
<img src="50ms.png" alt="image">
<img src="50ms_zoom.png" alt="image"></li>
<li>20ms
<img src="20ms.png" alt="image">
<img src="20ms_zoom.png" alt="image"></li>
<li>10ms
<img src="20ms.png" alt="image"></li>
</ul>
<h3 id="34-zyklischeanforderung-für-einzelmerkmal-m1">3.4. Zyklischeanforderung für Einzelmerkmal: ('M1')</h3>
<ul>
<li>200ms:
<img src="200ms_s.png" alt="image">
<img src="200ms_s_zoom.png" alt="image"></li>
<li>100ms:
<img src="100ms_s.png" alt="image"></li>
<li>50ms:
<img src="50ms_s.png" alt="image"></li>
<li>20ms:
<img src="20ms_s.png" alt="image"></li>
<li>10ms:
<img src="10ms_s.png" alt="image"></li>
</ul>
<h3 id="35-automatische-senden-für-zeit-gesteuerte-messung">3.5. Automatische senden für Zeit gesteuerte Messung</h3>
<ul>
<li>Schnellste Einstellung ist: 200ms (Messdauer=0,1 sek, Pausendauer=0,1 sek):
<img src="autom_senden.png" alt="image">
<img src="autom_senden_zoom.png" alt="image">
Nachrichtlänge: ca. 40ms</li>
</ul>
<h2 id="4-ergebnis">4. Ergebnis:</h2>
<ul>
<li>Ausgabewerte sind plausiebel mit aktuellem Werten.</li>
<li>Limietireungsfaktor ist baud rate: 9600 bps</li>
<li>Zeiten:
<ul>
<li>Kurze Anfrage ('?'): ca 2ms</li>
<li>Länge Anfrage ('Mx?'): ca 4ms</li>
<li>Antwort verzügerung: ca 20ms</li>
<li>Nachricht ca 15-40ms</li>
<li>Frage-Antwort: 40-60ms</li>
<li>Maxmimale Anforederungsrate: 100ms (10 Werte pro sekunde)
<br><br><br><br></li>
</ul>
</li>
</ul>
<h2 id="5-zeitverkürzungs-möglichkeiten-mehr-data-anfordern">5. Zeitverkürzungs möglichkeiten (Mehr Data Anfordern):</h2>
<ul>
<li>Einzelwert Anfragen: 'Mx?'</li>
<li>Baudrate erhühren, (Antwortzeit ca. 30ms)</li>
<li>digimatic Schnittstelle nutzen</li>
</ul>
<div style="page-break-after: always;"></div><br>
<h2 id="source-code-for-testing-">Source code for testing <br></h2>
<blockquote>
<p>Python / Jupyter Notebook</p>
</blockquote>
<pre><code class="language-python"><span class="hljs-keyword">import</span> serial
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> ipywidgets <span class="hljs-keyword">as</span> widgets

dataReq = <span class="hljs-string">&#x27;?\r&#x27;</span>.encode(<span class="hljs-string">&#x27;ASCII&#x27;</span>)

ser = serial.Serial()
ser.baudrate = <span class="hljs-number">9600</span>
ser.port = <span class="hljs-string">&#x27;COM5&#x27;</span>
ser.bytesize = <span class="hljs-number">7</span>
ser.parity = <span class="hljs-string">&#x27;E&#x27;</span>
ser.stopbits = <span class="hljs-number">2</span>
ser.timeout = <span class="hljs-number">0</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">runtest</span>(<span class="hljs-params">time_ms, request_qty</span>):
    ser.<span class="hljs-built_in">open</span>()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;start: &quot;</span> + <span class="hljs-built_in">str</span>(time_ms/<span class="hljs-number">1000</span>) + <span class="hljs-string">&quot; s ...&quot;</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(request_qty):
        ser.write(dataReq)
        time.sleep(time_ms/<span class="hljs-number">1000</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;finished&quot;</span>)
    ser.close()
widgets.interact_manual(runtest, time_ms=widgets.FloatSlider(<span class="hljs-built_in">min</span>=<span class="hljs-number">10</span>, <span class="hljs-built_in">max</span>=<span class="hljs-number">1000</span>, step=<span class="hljs-number">10</span>), request_qty=widgets.IntSlider(<span class="hljs-built_in">min</span>=<span class="hljs-number">10</span>, <span class="hljs-built_in">max</span>=<span class="hljs-number">100</span>, step=<span class="hljs-number">10</span>));
</code></pre>

        
        
    </body>
    </html>